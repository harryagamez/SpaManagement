
<md-list ng-cloak class="col-xs-12" style="background: #fff;">
    <div class="col-xs-12 outline categoriesrow" ng-repeat-start="category in ProductCategories">
        <div layout="row" layout-align="start center" style="padding:0px 15px">
            <md-checkbox class="md-primary" aria-label="Select All"
                         ng-checked="isChecked(category.ParentId)"
                         md-indeterminate="isIndeterminate(category.ParentId)"
                         ng-click="toggleAll(category.ParentId)"></md-checkbox>
            <label class="no-margin" ng-click="expanded = !expanded" style="outline: none;" expand flex>{{ category.Name }}</label>
            <md-icon md-font-icon="{{(expanded) ? 'fa-angle-up' : 'fa-angle-down'}}" class="fa" style="color:#082855"></md-icon>
        </div>
    </div>
    <div ng-repeat-end class="col-xs-12" ng-show="expanded">
        <md-list-item ng-repeat="product in category.Products">
            <md-divider></md-divider>
            <md-checkbox class="md-primary" ng-model="product.Active"></md-checkbox>
            <p> {{ product.Name }} </p>
        </md-list-item>
    </div>
</md-list>

<div style="position:fixed;right: 25px;bottom: 20px;">
    <md-button aria-label="send" style="background-color:#0268AD" class="md-fab buttons" ng-click="sendProducts()">
        <md-icon md-svg-src="../../Images/send_1.svg">
    </md-button>
</div>

<div data-ng-if="IsLoading" class="background" style="width: 100%; height: 100%; top: 0; left: 0; position: fixed; display: block; opacity: 0.7; background-color: #fff; z-index: 9999; text-align: center; display: block">
    <div data-icon="progressGeneral"></div>
</div>
<div data-ng-if="!IsLoading" class="background" style="display: none">
    <div data-icon="progressGeneral"></div>
</div>