<header id="header">
    <div layout="row">
        <div flex="44" flex-gt-sm="40">
            <div class="site-title" style="margin-top: 2px;">
                <a ui-sref="apanel"><span style="font-size:30px; font-weight:800; color:#393b44;">aPanel</span><i class="material-icons" style="font-size:18px; font-weight:600; color:#8d93ab; margin-top:-25px;">settings</i></a>
            </div>
        </div>
        <div flex="56" flex-gt-sm="60">
            <div class="site-widgets">
                <ul style=" white-space: nowrap;">
                    <li><span><img ng-src="{{UserAvatar}}" style="max-width:27px; max-height:27px; min-height:27px; min-width:27px; object-fit: cover; margin-right:7px; border-radius:50%; margin-top: -3px;cursor:pointer;" data-toggle="tooltip" title="Usuario activo en el sistema" />{{ UsuarioSistema }}</span></li>                    
                    <li><a href="" ng-click="Logout()"><img src="../../Images/cerrar-sesion.png" style="max-width: 25px; max-height: 25px; min-height: 25px; min-width: 25px; float: right;" data-toggle="tooltip" title="Cerrar sesión" /></a></li>
                </ul>
            </div>
        </div>
    </div>
</header>
<div class="background-image"></div>
<div class="wrapper">
    <section id="section-apanel">
        <div layout="row" style="height: calc(100vh - 70px);">

            <form id="frmAPanel" class="material-apanel">

                <md-tabs class="md-primary" style="min-height: calc(100vh - 70px) !important;">

                    <md-tab label="Empresas">

                        <md-content style="background-color:transparent; overflow:hidden; margin-top:-25px;">

                            <input type="file" name="file" id="LogoEmpresa" style="visibility:hidden;" data-toggle="tooltip" title="Upload" data-file-model="SeleccionarImagen($event)" accept=".png, .jpg, .jpeg" />

                            <section id="divButtons" layout="row" layout-align="left center" style="margin-top:7px;">                               

                                <md-button type="button" id="btnNuevo" class="groupX middle btn-apanel" style="margin: -1px;" data-toggle="tooltip" title="Nuevo" data-ng-click="ModalNuevaEmpresa()">
                                    <i class="material-icons md-18" style="transform: scaleX(-1)">note_add</i>Nuevo
                                </md-button>

                            </section>                            

                            <div id="divGridEmpresas" layout="row" layout-sm="column" style="width:100%; height: calc(100vh - 190px); margin-top:7px; overflow-y:auto;">
                                <div id="divEmpresasGridOptions" data-ag-grid="EmpresasGridOptions" class="ag-theme-fresh" style="width:100%; height:100%; padding-bottom:10px"></div>
                            </div>
                        </md-content>

                    </md-tab>

                    <md-tab label="Datos Maestros">
                        <md-content class="md-padding" style="background-color:transparent; margin-bottom:10px;">

                        </md-content>
                    </md-tab>

                    <md-tab label="Usuarios">
                        <md-content class="md-padding" style="background-color:transparent; margin-bottom:10px;">

                        </md-content>
                    </md-tab>
                </md-tabs>
            </form>

            <!-- Modales -->
            <div style="visibility: hidden">                

                <div class="md-dialog-container" id="dlgNuevaEmpresa">
                    <md-dialog id="mdNuevaEmpresa" aria-label="Nueva Empresa" style="min-width: 760px; max-width: 760px; min-height:370px; max-height:370px; color: #666666 !important;">
                        <md-toolbar>
                            <div class="md-toolbar-tools">
                                <h2 style="font-size:16px;">{{AccionEmpresa}}</h2>
                                <span flex></span>
                                <md-button class="md-icon-button" ng-click="Cancelar()">
                                    <i class="material-icons" style="transform: scaleX(-1)">close</i>
                                </md-button>
                            </div>
                        </md-toolbar>
                        <form id="frmServiciosModal" style="">
                            <md-dialog-content style="">
                                <div layout="row" layout-align="">
                                    <div style="width:200px;">
                                        <md-input-container style="width: 190px; margin-bottom: 0">
                                            <label class="label-form-empleados" style="">
                                                Nombre
                                            </label>
                                            <input ng-model="Empresa.Nombre" id="txtNombreEmpresa" maxlength="100" type="text" placeholder="Nombre de la empresa ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex=1>
                                        </md-input-container>
                                    </div>

                                    <div style="width:200px;">
                                        <md-input-container style="width: 190px; margin-bottom: 0">
                                            <label class="label-form-empleados" style="">
                                                Dirección:
                                            </label>
                                            <input ng-model="Empresa.Direccion" id="txtDireccionEmpresa" maxlength="60" type="text" placeholder="Dirección de la empresa ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex=2>
                                        </md-input-container>
                                    </div>

                                    <div style="width:200px;">
                                        <md-input-container style="width: 190px; margin-bottom: 0">
                                            <label class="label-form-empleados" style="">
                                                Teléfono Fijo:
                                            </label>
                                            <input ng-model="Empresa.Telefono_Fijo" id="txtTelFijoEmpresa" numbers-only maxlength="10" type="text" placeholder="Telefono fijo de la empresa ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex=3>
                                        </md-input-container>
                                    </div>
                                </div>

                                <div layout="row" layout-align="">

                                    <div style="width:200px;">
                                        <md-input-container style="width: 190px; margin-bottom: 0">
                                            <label class="label-form-empleados" style="">
                                                Celular:
                                            </label>
                                            <input ng-model="Empresa.Telefono_Movil" id="txtCelularEmpresa" numbers-only maxlength="12" type="text" placeholder="Celular de la empresa ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex=4>
                                        </md-input-container>
                                    </div>

                                    <div style="width:200px;">
                                        <md-input-container style="width: 190px; margin-top: 13px; margin-bottom: 0;">
                                            <label class="label-form-clientes" style="">
                                                Descripción:
                                            </label>
                                            <input ng-model="Empresa.Descripcion" id="txtDescripcionEmpresa" style="margin-top:1px;" maxlength="100" type="text" placeholder="Descripción de la empresa ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex=5>
                                        </md-input-container>
                                    </div>

                                    <div style="width:200px;">
                                        <md-input-container style="width: 190px; margin-top: 13px;margin-bottom: 0">
                                            <label class="label-form-empleados" style="">
                                                Mail:
                                            </label>
                                            <input ng-model="Empresa.Mail" id="txtMailEmpresa" style="" type="email" maxlength="50" placeholder="Email de la empresa ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex=6>
                                        </md-input-container>
                                    </div>

                                </div>

                                <div layout="row" layout-sm="column" layout-align="start start">

                                    <div style="width:200px;">
                                        <md-input-container style="width: 190px; margin-top: 13px; margin-bottom: 0; ">
                                            <label class="label-form-clientes" style="">
                                                Categoría Servicios:
                                            </label>
                                            <md-select ng-model="CategoriaSeleccionada" style="display:inline-flex; min-width: 100% !important; margin-top:7px;" id="slCategoriaServicio" tabindex=7>
                                                <md-option ng-bind="item.nombre" ng-value="item.id_Categoria_Servicio" ng-repeat="item in CategoriaServicios track by item.id_Categoria_Servicio"></md-option>
                                            </md-select>
                                        </md-input-container>
                                    </div>

                                    <div style="width:200px;">
                                        <md-input-container style="width: 190px; margin-top: 13px; margin-bottom: 0; ">
                                            <label class="label-form-clientes" style="">
                                                Sede Principal:
                                            </label>
                                            <md-select ng-model="SedePrincipalSeleccionada" style="display:inline-flex; min-width: 190px !important; max-width:190px; margin-top:7px;" id="slSedesPrincipales" tabindex=8>
                                                <md-option ng-bind="item.nombre" ng-value="item.id_Empresa" ng-repeat="item in SedesPrincipales track by item.id_Empresa"></md-option>
                                            </md-select>
                                        </md-input-container>
                                    </div>

                                    <div style="width:200px;">
                                        <md-input-container style="width: 190px; margin-top: 13px; margin-bottom: 0;">
                                            <label class="label-form-clientes" style="">
                                                Estado
                                            </label>
                                            <md-select ng-model="EstadoSeleccionado" class="" style="display:inline-flex; min-width: 100% !important; margin-top:7px;" id="slEstado" tabindex=9>
                                                <md-option value="ACTIVA" selected>ACTIVA</md-option>
                                                <md-option value="INACTIVA">INACTIVA</md-option>
                                            </md-select>
                                        </md-input-container>
                                    </div>

                                </div>

                                <div layout="row" layout-sm="column" layout-align="start start" style="margin-top:15px;">

                                    <div style="width:200px; margin-top:7px;">
                                        <md-input-container style="width: 190px; margin-top: 13px; margin-bottom: 0; ">
                                            <label class="label-form-clientes" style="">
                                                Contacto:
                                            </label>
                                            <input ng-model="Empresa.Contacto" id="txtContactoEmpresa" style="" type="text" maxlength="50" placeholder="Nombre del contacto ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex=10>
                                        </md-input-container>
                                    </div>

                                    <div style="width:200px;">
                                        <md-input-container style="width: 190px; margin-top: 13px; margin-bottom: 0; ">
                                            <label class="label-form-clientes" style="">
                                                Municipio:
                                            </label>
                                            <md-select ng-model="MunicipioSeleccionado" ng-change="FiltrarBarrios(MunicipioSeleccionado)" style="display:inline-flex; min-width: 190px !important; max-width:190px; margin-top:7px;" id="slMunicipios" tabindex=11>
                                                <md-option ng-bind="item.nombre" ng-value="item.id_Municipio" ng-repeat="item in Municipios track by $index"></md-option>
                                            </md-select>
                                        </md-input-container>
                                    </div>

                                    <div style="width:200px;">
                                        <md-input-container style="width: 190px; margin-top: 13px; margin-bottom: 0; ">
                                            <label class="label-form-clientes" style="">
                                                Barrio:
                                            </label>
                                            <md-select ng-model="BarrioSeleccionado" ng-disabled="MunicipioSeleccionado =='-1'" style="display:inline-flex; min-width: 190px !important; max-width:190px; margin-top:7px;" id="slBarrios" tabindex=12>
                                                <md-option ng-bind="item.nombre" ng-value="item.id_Barrio" ng-repeat="item in Barrios track by $index"></md-option>
                                            </md-select>
                                        </md-input-container>
                                    </div>

                                </div>

                                <div layout="row" layout-xs="column" layout-align="center start">

                                    <div style="width:120px;">
                                        <div class="empresa-logo" style="top:60px; right:20px;">
                                            <label class="label-imagen-usuario" ng-click="ProcesarImagen()"><i class="material-icons md-18" style="transform: scaleX(-1);">camera_alt</i> Cargar Avatar</label>
                                            <img ng-src="{{LogoEmpresa}}" />
                                        </div>
                                    </div>

                                    <div flex="" style="right:15px; position: absolute; margin-top:-15px;">
                                        <md-button type="button" id="btnGuardar" style="margin: 6px 3px !important;" class="btn-spa groupX left" data-toggle="tooltip" title="Guardar" ng-click="GuardarEmpresa()" tabindex=13>
                                            <i class="material-icons md-18" style="transform: scaleX(-1)">save</i>Guardar
                                        </md-button>
                                        <md-button type="button" id="btnNuevoModal" ng-hide="OcultarbtnNuevo" style="margin: 6px 3px !important;" class="btn-spa groupX middle" data-toggle="tooltip" title="Limpiar Campos" data-ng-click="LimpiarDatos()" tabindex=14>
                                            <i class="material-icons md-18" style="transform: scaleX(-1)">note_add</i>Limpiar
                                        </md-button>
                                    </div>

                                </div>

                            </md-dialog-content>

                        </form>
                    </md-dialog>
                </div>
            </div>
        </div>
    </section>
</div>